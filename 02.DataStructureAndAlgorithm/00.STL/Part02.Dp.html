<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>动态规划系列（一） | HACV</title>
    <meta name="description" content="Personal Blog Website">
    <link rel="icon" href="/images/photo.jpg">
  <link rel="manifest" href="/images/photo.jpg">
  <link rel="apple-touch-icon" href="/images/photo.jpg">
  <meta http-quiv="pragma" cotent="no-cache">
  <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
  <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.8eb0d87d.css" as="style"><link rel="preload" href="/assets/js/app.deb8ba48.js" as="script"><link rel="preload" href="/assets/js/13.9ab56618.js" as="script"><link rel="prefetch" href="/assets/js/10.8bbeb718.js"><link rel="prefetch" href="/assets/js/100.c96aff95.js"><link rel="prefetch" href="/assets/js/101.bc9e10c9.js"><link rel="prefetch" href="/assets/js/102.3636c93e.js"><link rel="prefetch" href="/assets/js/103.ebb552c8.js"><link rel="prefetch" href="/assets/js/104.de6df6ef.js"><link rel="prefetch" href="/assets/js/105.f2d683b1.js"><link rel="prefetch" href="/assets/js/106.8eb3db39.js"><link rel="prefetch" href="/assets/js/107.49dc49da.js"><link rel="prefetch" href="/assets/js/108.d63b4160.js"><link rel="prefetch" href="/assets/js/109.93095842.js"><link rel="prefetch" href="/assets/js/11.390e9c09.js"><link rel="prefetch" href="/assets/js/110.6d2bea73.js"><link rel="prefetch" href="/assets/js/111.cb3ece3c.js"><link rel="prefetch" href="/assets/js/112.13ea0445.js"><link rel="prefetch" href="/assets/js/113.653e72c4.js"><link rel="prefetch" href="/assets/js/114.7957bb00.js"><link rel="prefetch" href="/assets/js/115.67b56752.js"><link rel="prefetch" href="/assets/js/116.f347da22.js"><link rel="prefetch" href="/assets/js/117.f7dd83cf.js"><link rel="prefetch" href="/assets/js/118.6e542651.js"><link rel="prefetch" href="/assets/js/119.83b137bb.js"><link rel="prefetch" href="/assets/js/12.47752e11.js"><link rel="prefetch" href="/assets/js/120.1d2235c1.js"><link rel="prefetch" href="/assets/js/121.30ad36ce.js"><link rel="prefetch" href="/assets/js/122.0d5e845e.js"><link rel="prefetch" href="/assets/js/123.bc5c8b91.js"><link rel="prefetch" href="/assets/js/124.8fe80f17.js"><link rel="prefetch" href="/assets/js/125.177547d3.js"><link rel="prefetch" href="/assets/js/126.0d26664c.js"><link rel="prefetch" href="/assets/js/127.8fc97e3a.js"><link rel="prefetch" href="/assets/js/128.2ac1147f.js"><link rel="prefetch" href="/assets/js/129.93168aba.js"><link rel="prefetch" href="/assets/js/130.15221f81.js"><link rel="prefetch" href="/assets/js/131.e3dcd54e.js"><link rel="prefetch" href="/assets/js/132.17885bdf.js"><link rel="prefetch" href="/assets/js/133.3ba60fd9.js"><link rel="prefetch" href="/assets/js/134.e4f4af12.js"><link rel="prefetch" href="/assets/js/135.2e124765.js"><link rel="prefetch" href="/assets/js/136.0ebdd155.js"><link rel="prefetch" href="/assets/js/137.321b7f10.js"><link rel="prefetch" href="/assets/js/138.6fbd28f0.js"><link rel="prefetch" href="/assets/js/139.d6099530.js"><link rel="prefetch" href="/assets/js/14.62a5eff5.js"><link rel="prefetch" href="/assets/js/140.04106881.js"><link rel="prefetch" href="/assets/js/141.311cae5b.js"><link rel="prefetch" href="/assets/js/142.196a6e11.js"><link rel="prefetch" href="/assets/js/143.9310e9db.js"><link rel="prefetch" href="/assets/js/144.d648a45c.js"><link rel="prefetch" href="/assets/js/145.d32f32ea.js"><link rel="prefetch" href="/assets/js/146.140dabbb.js"><link rel="prefetch" href="/assets/js/147.83a109af.js"><link rel="prefetch" href="/assets/js/148.01c0ba2f.js"><link rel="prefetch" href="/assets/js/149.2981239a.js"><link rel="prefetch" href="/assets/js/15.7d2d48ae.js"><link rel="prefetch" href="/assets/js/150.6bd6bd49.js"><link rel="prefetch" href="/assets/js/151.5b65f44b.js"><link rel="prefetch" href="/assets/js/152.4e584419.js"><link rel="prefetch" href="/assets/js/16.8786bc8f.js"><link rel="prefetch" href="/assets/js/17.5312e725.js"><link rel="prefetch" href="/assets/js/18.0627885a.js"><link rel="prefetch" href="/assets/js/19.110980f3.js"><link rel="prefetch" href="/assets/js/2.858e80da.js"><link rel="prefetch" href="/assets/js/20.fada5d94.js"><link rel="prefetch" href="/assets/js/21.fef9831b.js"><link rel="prefetch" href="/assets/js/22.312e3a38.js"><link rel="prefetch" href="/assets/js/23.33f46c53.js"><link rel="prefetch" href="/assets/js/24.00a66de9.js"><link rel="prefetch" href="/assets/js/25.2f188985.js"><link rel="prefetch" href="/assets/js/26.68654ac5.js"><link rel="prefetch" href="/assets/js/27.6cab9932.js"><link rel="prefetch" href="/assets/js/28.754b96e8.js"><link rel="prefetch" href="/assets/js/29.d1ed41d5.js"><link rel="prefetch" href="/assets/js/3.53ecd128.js"><link rel="prefetch" href="/assets/js/30.056a1a2e.js"><link rel="prefetch" href="/assets/js/31.274d0f03.js"><link rel="prefetch" href="/assets/js/32.d1ec2cf6.js"><link rel="prefetch" href="/assets/js/33.94432764.js"><link rel="prefetch" href="/assets/js/34.317893db.js"><link rel="prefetch" href="/assets/js/35.b0c07e82.js"><link rel="prefetch" href="/assets/js/36.11f4488f.js"><link rel="prefetch" href="/assets/js/37.44d06b47.js"><link rel="prefetch" href="/assets/js/38.7076aad1.js"><link rel="prefetch" href="/assets/js/39.28b53f84.js"><link rel="prefetch" href="/assets/js/4.ba718c7b.js"><link rel="prefetch" href="/assets/js/40.500abbb7.js"><link rel="prefetch" href="/assets/js/41.e7ac9249.js"><link rel="prefetch" href="/assets/js/42.bef75a03.js"><link rel="prefetch" href="/assets/js/43.b60f9929.js"><link rel="prefetch" href="/assets/js/44.0dcdb64d.js"><link rel="prefetch" href="/assets/js/45.5d0502e0.js"><link rel="prefetch" href="/assets/js/46.cf1f18a7.js"><link rel="prefetch" href="/assets/js/47.f7407700.js"><link rel="prefetch" href="/assets/js/48.d97ba0a0.js"><link rel="prefetch" href="/assets/js/49.1913c40b.js"><link rel="prefetch" href="/assets/js/5.4ebbb385.js"><link rel="prefetch" href="/assets/js/50.d173ab37.js"><link rel="prefetch" href="/assets/js/51.97c53fc8.js"><link rel="prefetch" href="/assets/js/52.22666e8a.js"><link rel="prefetch" href="/assets/js/53.f6a7ee98.js"><link rel="prefetch" href="/assets/js/54.b2e1de2a.js"><link rel="prefetch" href="/assets/js/55.6f390e60.js"><link rel="prefetch" href="/assets/js/56.136140cb.js"><link rel="prefetch" href="/assets/js/57.d30b35bd.js"><link rel="prefetch" href="/assets/js/58.800fcd7b.js"><link rel="prefetch" href="/assets/js/59.5c9ae199.js"><link rel="prefetch" href="/assets/js/6.0bff5906.js"><link rel="prefetch" href="/assets/js/60.244e06d7.js"><link rel="prefetch" href="/assets/js/61.4989f930.js"><link rel="prefetch" href="/assets/js/62.0467583d.js"><link rel="prefetch" href="/assets/js/63.aea99875.js"><link rel="prefetch" href="/assets/js/64.1c08761a.js"><link rel="prefetch" href="/assets/js/65.93b72363.js"><link rel="prefetch" href="/assets/js/66.e6b26353.js"><link rel="prefetch" href="/assets/js/67.d6ca691a.js"><link rel="prefetch" href="/assets/js/68.dfe97b09.js"><link rel="prefetch" href="/assets/js/69.1638a457.js"><link rel="prefetch" href="/assets/js/7.38fc841b.js"><link rel="prefetch" href="/assets/js/70.c767d155.js"><link rel="prefetch" href="/assets/js/71.615ce242.js"><link rel="prefetch" href="/assets/js/72.28e9c562.js"><link rel="prefetch" href="/assets/js/73.6714f2f2.js"><link rel="prefetch" href="/assets/js/74.5b4694bc.js"><link rel="prefetch" href="/assets/js/75.5df43a08.js"><link rel="prefetch" href="/assets/js/76.c576835d.js"><link rel="prefetch" href="/assets/js/77.bad13a20.js"><link rel="prefetch" href="/assets/js/78.be78e4c1.js"><link rel="prefetch" href="/assets/js/79.fc581b35.js"><link rel="prefetch" href="/assets/js/8.f1e98a93.js"><link rel="prefetch" href="/assets/js/80.6051d6c1.js"><link rel="prefetch" href="/assets/js/81.f768e4c3.js"><link rel="prefetch" href="/assets/js/82.3c79a2af.js"><link rel="prefetch" href="/assets/js/83.9f1fae4b.js"><link rel="prefetch" href="/assets/js/84.f2ca23eb.js"><link rel="prefetch" href="/assets/js/85.4ecddbfe.js"><link rel="prefetch" href="/assets/js/86.fe27d4ca.js"><link rel="prefetch" href="/assets/js/87.bfe5f911.js"><link rel="prefetch" href="/assets/js/88.6838f2aa.js"><link rel="prefetch" href="/assets/js/89.1b1738a3.js"><link rel="prefetch" href="/assets/js/9.76534e6a.js"><link rel="prefetch" href="/assets/js/90.51c2f6f2.js"><link rel="prefetch" href="/assets/js/91.f9257029.js"><link rel="prefetch" href="/assets/js/92.8e985572.js"><link rel="prefetch" href="/assets/js/93.fd9668e1.js"><link rel="prefetch" href="/assets/js/94.e8e70151.js"><link rel="prefetch" href="/assets/js/95.b6e2779f.js"><link rel="prefetch" href="/assets/js/96.221d4a5e.js"><link rel="prefetch" href="/assets/js/97.a9f955f5.js"><link rel="prefetch" href="/assets/js/98.ea1881e7.js"><link rel="prefetch" href="/assets/js/99.27d22932.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8eb0d87d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">HACV</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/02.DataStructureAndAlgorithm/" class="nav-link router-link-active">🐾数据结构和算法</a></div><div class="nav-item"><a href="/03.OS/" class="nav-link">💻操作系统</a></div><div class="nav-item"><a href="/04.Net/" class="nav-link">☁️网络</a></div><div class="nav-item"><a href="/05.SE/" class="nav-link">☕️软件工程</a></div><div class="nav-item"><a href="/06.SQL/" class="nav-link">💾数据库</a></div><div class="nav-item"><a href="/07.InternalSkill/" class="nav-link">🐉计算机内功</a></div><div class="nav-item"><a href="/08.Tools/" class="nav-link">🔧Tools</a></div><div class="nav-item"><a href="/09.Language/" class="nav-link">⚛️C/C++</a></div><div class="nav-item"><a href="https://github.com/HACV" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/02.DataStructureAndAlgorithm/" class="nav-link router-link-active">🐾数据结构和算法</a></div><div class="nav-item"><a href="/03.OS/" class="nav-link">💻操作系统</a></div><div class="nav-item"><a href="/04.Net/" class="nav-link">☁️网络</a></div><div class="nav-item"><a href="/05.SE/" class="nav-link">☕️软件工程</a></div><div class="nav-item"><a href="/06.SQL/" class="nav-link">💾数据库</a></div><div class="nav-item"><a href="/07.InternalSkill/" class="nav-link">🐉计算机内功</a></div><div class="nav-item"><a href="/08.Tools/" class="nav-link">🔧Tools</a></div><div class="nav-item"><a href="/09.Language/" class="nav-link">⚛️C/C++</a></div><div class="nav-item"><a href="https://github.com/HACV" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>动态规划系列（一）</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#一、借助oj设计原理技巧，输出编号" class="sidebar-link">一、借助OJ设计原理技巧，输出编号</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#_1）模板如下" class="sidebar-link">1）模板如下</a></li><li class="sidebar-sub-header"><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#_2）第一种输入，in-txt（我习惯用这样的）" class="sidebar-link">2）第一种输入，in.txt（我习惯用这样的）</a></li><li class="sidebar-sub-header"><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#_3）第二种输入，in-txt（这样也行）" class="sidebar-link">3）第二种输入，in.txt（这样也行）</a></li><li class="sidebar-sub-header"><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#_4）输出的out-txt" class="sidebar-link">4）输出的out.txt</a></li></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#二、技巧的使用案例" class="sidebar-link">二、技巧的使用案例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#_1）例1：xor-sum" class="sidebar-link">1）例1：XOR sum</a></li><li class="sidebar-sub-header"><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#_2）例2：统计累加算式" class="sidebar-link">2）例2：统计累加算式</a></li></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#一、适用情况" class="sidebar-link">一、适用情况</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#二、常见dp类型" class="sidebar-link">二、常见DP类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#三、动态规划解题的一般思路" class="sidebar-link">三、动态规划解题的一般思路</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#原作者前言" class="sidebar-link">原作者前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#第一讲-01背包问题" class="sidebar-link">第一讲 01背包问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#（1）题目" class="sidebar-link">（1）题目</a></li><li class="sidebar-sub-header"><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#（2）基本思路" class="sidebar-link">（2）基本思路</a></li><li class="sidebar-sub-header"><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#（3）优化空间复杂度" class="sidebar-link">（3）优化空间复杂度</a></li><li class="sidebar-sub-header"><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#（3）初始化的细节问题" class="sidebar-link">（3）初始化的细节问题</a></li><li class="sidebar-sub-header"><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#（4）小结" class="sidebar-link">（4）小结</a></li></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#第二讲-完全背包问题" class="sidebar-link">第二讲 完全背包问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#第三讲-多重背包问题" class="sidebar-link">第三讲 多重背包问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#第四讲-混合三种背包问题" class="sidebar-link">第四讲 混合三种背包问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#第五讲-二维费用的背包问题" class="sidebar-link">第五讲 二维费用的背包问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#第六讲-分组的背包问题" class="sidebar-link">第六讲 分组的背包问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#第七讲-有依赖的背包问题" class="sidebar-link">第七讲 有依赖的背包问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#第八讲-泛化物品" class="sidebar-link">第八讲 泛化物品</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#第九讲-背包问题问法的变化" class="sidebar-link">第九讲 背包问题问法的变化</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/02.DataStructureAndAlgorithm/00.STL/Part02.Dp.html#附：usaco中的背包问题" class="sidebar-link">附：USACO中的背包问题</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="dp前置知识———找规律技巧"><a href="#dp前置知识———找规律技巧" class="header-anchor">#</a> DP前置知识———找规律技巧</h1> <h2 id="一、借助oj设计原理技巧，输出编号"><a href="#一、借助oj设计原理技巧，输出编号" class="header-anchor">#</a> 一、借助OJ设计原理技巧，输出编号</h2> <p>Tips:<code>in.txt</code>和<code>out.txt</code>都和你运行的程序在同一当前目录
首先，我创建in.txt作为，我存入输入数据
其次，我可以建立out.txt，也可不建立</p> <h3 id="_1）模板如下"><a href="#_1）模板如下" class="header-anchor">#</a> 1）模板如下</h3> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	FILE <span class="token operator">*</span> fp_in<span class="token punctuation">;</span>
	FILE <span class="token operator">*</span> fp_out<span class="token punctuation">;</span>
    <span class="token comment">//输入文件，&quot;r+&quot;用读/写方式，打开一个（已存在）的文件</span>
	fp_in<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;in.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">//输出文件，&quot;w+&quot;表示，用读/写方式，（建立）一个新的文本文件</span>
    <span class="token comment">//PS：其实，要是我原先建好了out.txt也行。</span>
	fp_out<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;out.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
	
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token operator">==</span>fp_in<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;NO&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">;</span>
		<span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//用于编号 </span>
        
        <span class="token comment">//这是对文件中的字符，用格式&quot;%d%d%d&quot;扫描进来。</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token function">fscanf</span><span class="token punctuation">(</span>fp_in<span class="token punctuation">,</span><span class="token string">&quot;%d%d%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">,</span><span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d %d %d\n&quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;n=%d sum=%d\n&quot;</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span>a<span class="token operator">+</span>b<span class="token operator">+</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//编号 </span>
			<span class="token function">fprintf</span><span class="token punctuation">(</span>fp_out<span class="token punctuation">,</span><span class="token string">&quot;n=%d sum=%d\n&quot;</span><span class="token punctuation">,</span>i<span class="token operator">++</span><span class="token punctuation">,</span>a<span class="token operator">+</span>b<span class="token operator">+</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
	<span class="token punctuation">}</span>
	
	
	
	<span class="token function">fclose</span><span class="token punctuation">(</span>fp_in<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭输入文件</span>
	<span class="token function">fclose</span><span class="token punctuation">(</span>fp_out<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//关闭输出文件</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> 


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>Tips:测试样例</p> <h3 id="_2）第一种输入，in-txt（我习惯用这样的）"><a href="#_2）第一种输入，in-txt（我习惯用这样的）" class="header-anchor">#</a> 2）第一种输入，in.txt（我习惯用这样的）</h3> <div class="language-in.txt line-numbers-mode"><pre class="language-text"><code>1 3 5 
2 6 10
4 12 20
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_3）第二种输入，in-txt（这样也行）"><a href="#_3）第二种输入，in-txt（这样也行）" class="header-anchor">#</a> 3）第二种输入，in.txt（这样也行）</h3> <div class="language-in.txt line-numbers-mode"><pre class="language-text"><code>1 3 5 2 6 10
4 12 20
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_4）输出的out-txt"><a href="#_4）输出的out-txt" class="header-anchor">#</a> 4）输出的out.txt</h3> <div class="language-out.txt line-numbers-mode"><pre class="language-text"><code>n=1 sum=9
n=2 sum=18
n=3 sum=36
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="二、技巧的使用案例"><a href="#二、技巧的使用案例" class="header-anchor">#</a> 二、技巧的使用案例</h2> <h3 id="_1）例1：xor-sum"><a href="#_1）例1：xor-sum" class="header-anchor">#</a> 1）例1：XOR sum</h3> <p>（不是动态规划）
考察知识点：<code>前缀和，位运算</code>
湖南大学程序设计竞赛新生赛 <code>M题</code> <a href="https://ac.nowcoder.com/acm/contest/3674/M" target="_blank" rel="noopener noreferrer">XOR sum<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><code>小范围暴力找规律，规律当结论记住</code></p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>题目描述 
You are given two positive integers l and r,you shoud answer l⊕(l+1)⊕...⊕r,where ⊕ denotes the bitwise XOR operation. In XOR operation we perform the comparison of two bits, being 1 if the two bits are different, and 0 if they are the same. 
For example:

输入描述:
The input contain two integers l ,r (1 ≤ l ≤ r ≤1018) 
输出描述:
The only output line should contain a single integer
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>示例1
输入
<code>1 2</code>
输出
<code>3</code>
说明
<code>1⊕2=3</code></p> <p>示例2
输入
<code>3 6</code>
输出
<code>4</code>
说明
<code>3⊕4⊕5⊕6=4</code></p> <h4 id="_1）思路："><a href="#_1）思路：" class="header-anchor">#</a> 1）思路：</h4> <p>1）想法1：首先看到能够很明显模拟的，那么首先就会想到暴力，但是会发现<code>TLE</code>
2）想法2：这样，很有规律但是超时的，那么可能是**<code>规律题</code><strong>，或者可能是</strong><code>动态规划</code><strong>，
那么问题转换为</strong><code>如何找规律</code><strong>，或者</strong><code>如何找状态转移方程</code>**</p> <h4 id="_2）做法"><a href="#_2）做法" class="header-anchor">#</a> 2）做法</h4> <p>1)首先创建测试数据，为了避免手工输入测试数据太慢，也避免测试数据太少，无法找出规律，所以，我写了代码生成<code>in.txt</code></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	FILE <span class="token operator">*</span> fp_in<span class="token punctuation">;</span>
	fp_in<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;in.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">101</span><span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">fprintf</span><span class="token punctuation">(</span>fp_in<span class="token punctuation">,</span><span class="token string">&quot;1 %d\n&quot;</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token function">fclose</span><span class="token punctuation">(</span>fp_in<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>生成的<code>in.txt</code>中，有形如这样的</p> <div class="language-in.txt line-numbers-mode"><pre class="language-text"><code>1 1
1 2
1 3
1 4
1 5
省略-——注意，这不是文件中的
1 100
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>2)准备数据进行小范围的OJ模拟
代码</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	FILE <span class="token operator">*</span> fp_in<span class="token punctuation">;</span>
	FILE <span class="token operator">*</span> fp_out<span class="token punctuation">;</span>
	fp_in<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;in.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	fp_out<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;out.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	
	<span class="token keyword">unsigned</span> <span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
	
	<span class="token keyword">int</span> n<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
	
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token function">fscanf</span><span class="token punctuation">(</span>fp_in<span class="token punctuation">,</span><span class="token string">&quot;%u%u&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">unsigned</span> sum<span class="token operator">=</span>a<span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token punctuation">(</span>a<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>b<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			sum<span class="token operator">^=</span>i<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token function">fprintf</span><span class="token punctuation">(</span>fp_out<span class="token punctuation">,</span><span class="token string">&quot;%d-%d ==%d\n&quot;</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
		
		

	
	<span class="token function">fclose</span><span class="token punctuation">(</span>fp_in<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">fclose</span><span class="token punctuation">(</span>fp_out<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>模拟出out.txt</p> <div class="language-out.txt line-numbers-mode"><pre class="language-text"><code>1-1 ==1
1-2 ==3
1-3 ==0
1-4 ==4
1-5 ==1
1-6 ==7
1-7 ==0
1-8 ==8
1-9 ==1
1-10 ==11
1-11 ==0
1-12 ==12
1-13 ==1
1-14 ==15
1-15 ==0
1-16 ==16
1-17 ==1
1-18 ==19
1-19 ==0
1-20 ==20
1-21 ==1
1-22 ==23
1-23 ==0
省略-——注意，这不是文件中的
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>显然，有比较明显的规律如下图</p> <img src="https://gitee.com/HACV/images_bed/raw/master/MainBlog/2020/2020_07/07_03/2020_07_03_DP_Series_One_01.png" width="80%"> <p>至此，我们发现了1-num的规律，由于规律太明显，不经让人大胆的猜测，其他形如2-num，3-num可能都只与
区间[left,right]的right有关，但是我们要严谨，毕竟，现在暴力模拟的只是<code>left=1</code>的场景</p> <p>至此</p> <h4 id="_3）《一》常规方式"><a href="#_3）《一》常规方式" class="header-anchor">#</a> 3）《一》常规方式</h4> <p>（虽然技巧性没有那么强，但是比较通用）
我们可以有两种做法，但是其实都是殊途同归
1）直接用这个模拟，然后，我们手算测试2-num，3-num。差不多的话，那就比较肯定是这个规律
1）模拟2-num,模拟3-num等，综合几组找规律
但是，由示例2的3-6发现，也并不满足这个规律，第1种比较碰运气的不行。
但是由于有这么明显的规律，那么我们不妨用第2种做法，我们还是很相信，最后结果和left可能也有关。</p> <p>再次暴力模拟</p> <div class="language-out.txt line-numbers-mode"><pre class="language-text"><code>2-2 ==2
2-3 ==1
2-4 ==5
2-5 ==0
2-6 ==6
2-7 ==1
2-8 ==9
2-9 ==0
2-10 ==10
2-11 ==1
2-12 ==13
2-13 ==0
2-14 ==14
2-15 ==1
省略----
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>显然，又是4个一组
并且又是下面这样的规律，但是却和1-num的编号，对不上。</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>num
1
num+1
0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>模拟3-num</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>3-3 ==3
3-4 ==7
3-5 ==2
3-6 ==4
3-7 ==3
3-8 ==11
3-9 ==2
3-10 ==8
3-11 ==3
3-12 ==15
3-13 ==2
3-14 ==12
3-15 ==3
3-16 ==19
3-17 ==2
3-18 ==16
3-19 ==3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>继续模拟，省略。。。后续，我对照
尴尬的。。。我没有找出规律。所以，我后面用的下面技巧性的方法想出来的。</p> <h4 id="_4）《二》技巧性的方法"><a href="#_4）《二》技巧性的方法" class="header-anchor">#</a> 4）《二》技巧性的方法</h4> <p>至此，懒得再次模拟，可以借助我以前写代码，比如说前n项和等开放的思维。
我就想，如何将[left,right]和[1,right]联系起来？</p> <p>后来，笔者观察到的是这样的规律：
我们假设，$f(n)$表示[1,right]的异或和
那么，我们观察到
$f(3)=1^2^3$
$f(5)=1^2^3^4^5$
要是，我们想要求[3,5]的异或和
也就是求$f=3^4^5$
我们的目标就转换为，如何由前面两个式子弄成现在这个式子的样子
我首先想到的是，可以类似除法的话
那么，我需要的式子应该是
$f(2)=1^2$
$f(5)=1^2^3^4^5$
但是，又不能直接和除法一样除，灵机一转，那我从异或的角度来思考
异或规则：</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>0^1=1
0^0=0
1^0=1
1^1=0
相同则为0，不同则为1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如何才能将前面的$1^2$去掉呢，并且还不能影响到后面的呢
由异或的规则前两行，我们发现，0和k=0,1或都等于k
其实是如何求
$f=3^4^5$就可以转换为$f=0^3^4^5$
但是，问题又来了，前面的0如何构造。
灵机一转，任何两个相同的数字，异或永远是0。
那么，求$f=3^4^5$就可以转换为$f（3-1）^f（5）$</p> <h4 id="_5）最终代码"><a href="#_5）最终代码" class="header-anchor">#</a> 5）最终代码</h4> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>

<span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token function">solution</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token keyword">long</span>  n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">%</span><span class="token number">4</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> n<span class="token punctuation">;</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">%</span><span class="token number">4</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">%</span><span class="token number">4</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">%</span><span class="token number">4</span><span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token keyword">long</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
	<span class="token comment">//注意，是正整数，然后，我先前只考虑的unsigned int，只通过了0.8样例</span>
    <span class="token comment">//后来发现，，，对了，unsigned long long。我怎么先前就假设别人要的unsigned int 呢</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%lld%lld&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%lld\n&quot;</span><span class="token punctuation">,</span><span class="token function">solution</span><span class="token punctuation">(</span>a<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token function">solution</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_2）例2：统计累加算式"><a href="#_2）例2：统计累加算式" class="header-anchor">#</a> 2）例2：统计累加算式</h3> <p>（可以说是规律题，也可以说是dp题）
来源：深信服校园招聘<code>c/c++</code>软件开发D卷 <a href="https://www.nowcoder.com/questionTerminal/6ec6dbe36bc84e91b0eea012446a44cc" target="_blank" rel="noopener noreferrer">统计累加算式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
也有来源说是 整数分解为2的幂 清华复试
考察知识点：<code>分区（数论）</code></p> <p>示例1</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>输入
7
输出
6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_1）思路"><a href="#_1）思路" class="header-anchor">#</a> 1）思路</h4> <p>1）首先，想到暴力进行模拟，利用数组，下表i表示2的i次方，用数组值模拟个数。但是这种的搜索空间太大了
比如，题干举例的7，在<code>1+1+1+4</code>和<code>1+2+2+2</code>，显然，我们直接从全1，慢慢合并到最终的<code>1+2+4</code>，其中我们还需要进行回溯。比较麻烦，也比较容易超时。
2）从以前阅读的《具体数学》书中启发的，我们对于这种很有可能有规律的，进行找规律
3）进一步的，其实，我们方法1）是从全1开始合并到最终，那么我们可以反过来思考。从那个数字本身对应的二进制位，每个权，一步步分解，直到全1，这个其实也要回溯，但是这样反着分解，似乎有些猫腻。（具体见下）</p> <h4 id="_2）找规律"><a href="#_2）找规律" class="header-anchor">#</a> 2）找规律</h4> <p>手工模拟，分解
1的分解方法 有1种
<code>1=1</code>
2的分解方法 有2种
<code>2=1+1</code> <code>2</code>
3的分解方法 有2种
4的分解方法 有4种
5的分解方法 有4种
6的分解方法 有6种
7的分解方法 有6种</p> <p>至此，我就已经发现比较显然的几种可能的规律：
1）很肯定的规律：$f(2m+1)=f(2m)$（m=1,2,3...n)
2)猜测1：$f(2m)=2m$（m=1,2,3...n)
3)猜测2：$f(2m)=f((2m)/2)+f(2m-1)=f(m)+f(2m-1)$（m=1,2,3...n)</p> <p>为什么说，规律1）我很肯定呢，因为，我做出猜测之后，能够很容易的证明这个猜想是对的
Reason：我们知道奇数的二进制的最低位肯定是1，偶数则是0
由此，我们知道，比起偶数，比他大1的相邻的奇数，肯定最后那个1无法合并，一直放在各个分解的式子末尾，所以不影响分解方法数目。</p> <p>验证，猜测1）
我们将8进行分解
<code>1+1+1+1+1+1+1+1</code> <code>1+1+1+1+1+1+2</code> <code>1+1+1+1+2+2</code> <code>1+1+2+2+2</code> <code>2+2+2+2</code> <code>2+2+4</code> <code>4+4</code> <code>8</code>
此外，我们回溯，1+1+1+1+2+2h还有
<code>1+1+1+1+4</code> <code>1+1+2+4</code>
有10种
猜测1错误</p> <p>验证，猜测2）
从验证猜想1时求的8点分解数，我们发现，由再次符合了我们的想法。
在实际编码的时候，或许我们这样就会直接用这个猜想去搏一搏了。
但是，我现在是在写博客2333，还是老实证明一下吧</p> <p>老实说，至此，我第一次想的时候没有想出如何证明：
后来想的证明，也比这篇博客写的复杂
参考博客：<code>https://blog.csdn.net/zhang20072844/article/details/17033931</code>
所以此处，我想引用这篇博客的证明：</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>证明:

证明的要点是考虑划分中是否有1。

记:
A(n) = n的所有划分组成的集合，
B(n) = n的所有含有1的划分组成的集合，
C(n) = n的所有不含1的划分组成的集合，
则有: A(n) = B(n)∪C(n)。

又记:
f(n) = A(n)中元素的个数，
g(n) = B(n)中元素的个数，
h(n) = C(n)中元素的个数，
易知: f(n) = g(n) + h(n)。

我们先来证明: f(2m + 1) = f(2m)，
首先，2m + 1 的每个划分中至少有一个1，去掉这个1，就得到 2m 的一个划分，故 f(2m + 1)≤f(2m)。
其次，2m 的每个划分加上个1，就构成了 2m + 1 的一个划分，故 f(2m)≤f(2m + 1)。
综上，f(2m + 1) = f(2m)。

接着我们要证明: f(2m) = f(2m - 1) + f(m)，
把 B(2m) 中的划分中的1去掉一个，就得到 A(2m - 1) 中的一个划分，故 g(2m)≤f(2m - 1)。
把 A(2m - 1) 中的划分加上一个1，就得到 B(2m) 中的一个划分，故 f(2m - 1)≤g(2m)。
综上，g(2m) = f(2m - 1)。

把 C(2m) 中的划分的元素都除以2，就得到 A(m) 中的一个划分，故 h(2m)≤f(m)。
把 A(m) 中的划分的元素都乘2，就得到 C(2m) 中的一个划分，故 f(m)≤h(2m)。
综上，h(2m) = f(m)。

所以: f(2m) = g(2m) + h(2m) = f(2m - 1) + f(m)。                                            

这就证明了我们的递推公式。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>Tips:个人的一些感受</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>1）从找规律这一方面，或许能够解释说明，为什么我上次进行企业笔试的时候，会有找规律的题目
那是为了练习我们对于数字的敏感程度，比如碰到这样的题目，我们可以猜想出猜想1）和2）这两种。
但是，一般的，要是不锻炼，或许，我们就只会做出猜想1）就以为只有这种规律了，但是其实，猜想2）页可以解释，而且才是最正确的。
2）此外，也解释了，为什么，我们在做笔试的题目发现有的题目可能有2种及以上的猜想都似乎可以
那样，只是说明，你的数字敏感度和思维广度很不同，但是，遗憾的，有时候碰到那样，没有后续数据给你验证，
你可能就陷入了2个选项啥的纠结，这种情况，我碰到了几次，，，（个人觉得，那是笔试这种题目的缺陷之处，或许改为，先选，然后把思路写下来，提交，按照思路进行判卷，比单纯的选择题更好）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_3）代码"><a href="#_3）代码" class="header-anchor">#</a> 3）代码</h4> <h5 id="写法1——递归"><a href="#写法1——递归" class="header-anchor">#</a> 写法1——递归</h5> <p>优点：简洁
缺点：数据大的时候，会由于调用栈太深，有问题</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">solution</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">==</span>n<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//奇数 </span>
	<span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">solution</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">solution</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">solution</span><span class="token punctuation">(</span>n<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> 
<span class="token punctuation">}</span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">int</span> n<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span><span class="token function">solution</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h5 id="写法2——打表技巧"><a href="#写法2——打表技巧" class="header-anchor">#</a> 写法2——打表技巧</h5> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;cstdio&gt;</span></span>
<span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">100000</span><span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> solution<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	solution<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
	solution<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
	solution<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>maxn<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span> 
		<span class="token punctuation">{</span>
			solution<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>solution<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{</span>
			solution<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>solution<span class="token punctuation">[</span>i<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">+</span>solution<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//讲所有的弄出来 </span>
	<span class="token keyword">int</span> n<span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span>solution<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>最后：
还有一篇文章讲解了用DP和DFS剪枝来做这题，非常棒
链接：<code>https://www.jianshu.com/p/216b692d32ea</code>
还有，发现自己的不足，进行补充知识点——分区（数论）-维基百科</p> <hr> <p>title: 动态规划系列（二）
date: 2020-07-03 09:00:02</p> <p>categories:</p> <ul><li>算法
tags:</li> <li>DP
img: /photos/2020.6.03_15/2020_06_12_cover.jpg
top: false
summary: 动态规划基础知识
mathjax: true</li></ul> <p>cover: false
#password:</p> <hr> <h1 id="动态规划基础"><a href="#动态规划基础" class="header-anchor">#</a> 动态规划基础</h1> <h2 id="一、适用情况"><a href="#一、适用情况" class="header-anchor">#</a> 一、适用情况</h2> <p>参考维基百科：</p> <blockquote><ul><li>1）<strong>最优子结构性质</strong>。如果问题的最优解所包含的子问题的解也是最优的，我们就称该问题具有最优子结构性质（即满足最优化原理）。最优子结构性质为动态规划算法解决问题提供了重要线索。</li> <li>2）<strong>无后效性</strong>。即子问题的解一旦确定，就不再改变，不受在这之后、包含它的更大的问题的求解决策影响。</li> <li>3）<strong>子问题重叠性质</strong>。子问题重叠性质是指在用递归算法自顶向下对问题进行求解时，每次产生的子问题并不总是新问题，有些子问题会被重复计算多次。动态规划算法正是利用了这种子问题的重叠性质，对每一个子问题只计算一次，然后将其计算结果保存在一个表格中，当再次需要计算已经计算过的子问题时，只是在表格中简单地查看一下结果，从而获得较高的效率，降低了时间复杂度。</li></ul></blockquote> <h2 id="二、常见dp类型"><a href="#二、常见dp类型" class="header-anchor">#</a> 二、常见DP类型</h2> <p>参考OI进行分类
1）记忆化搜索
2）背包 DP
3）区间 DP
4）树形 DP
5）DAG 上的 DP
6）状压 DP
7）数位 DP
8）插头 DP
9）计数 DP
10）动态 DP
11）DP 优化</p> <h2 id="三、动态规划解题的一般思路"><a href="#三、动态规划解题的一般思路" class="header-anchor">#</a> 三、动态规划解题的一般思路</h2> <p>可以参考这篇<a href="https://www.zhihu.com/question/23995189" target="_blank" rel="noopener noreferrer">知乎<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
还可以参考北大郭炜的两种递推的写法：“人人为我”和“为为人人”</p> <p>date: 2020-07-07 16:55:30</p> <h1 id="背包九讲"><a href="#背包九讲" class="header-anchor">#</a> 背包九讲</h1> <ul><li>背包专题
<a href="https://www.cnblogs.com/fzl194/p/8763097.html" target="_blank" rel="noopener noreferrer">转载传送门<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="原作者前言"><a href="#原作者前言" class="header-anchor">#</a> 原作者前言</h2> <blockquote><ul><li>1、本篇文章是我(<code>dd_engi</code>)正在进行中的一个雄心勃勃的写作计划的一部分，这个计划的内容是写作一份较为完善的NOIP难度的动态规划总结，名为<code>《解动态规划题的基本思考方式》</code>。现在你看到的是这个写作计划最先发布的一部分。</li> <li>2、背包问题是一个经典的动态规划模型。它既简单形象容易理解，又在某种程度上能够揭示动态规划的本质，故不少教材都把它作为动态规划部分的第一道例题，我也将它放在我的写作计划的第一部分。</li> <li>3、读本文最重要的是思考。因为我的语言和写作方式向来不以易于理解为长，思路也偶有跳跃的地方，后面更有需要大量思考才能理解的比较抽象的内容。更重要的是：不大量思考，绝对不可能学好动态规划这一信息学奥赛中最精致的部分。</li></ul></blockquote> <ul><li>第一讲 01背包问题</li> <li>这是最基本的背包问题，每个物品最多只能放一次。</li> <li>第二讲 完全背包问题</li> <li>第二个基本的背包问题模型，每种物品可以放无限多次。</li> <li>第三讲 多重背包问题</li> <li>每种物品有一个固定的次数上限。</li> <li>第四讲 混合三种背包问题</li> <li>将前面三种简单的问题叠加成较复杂的问题。</li> <li>第五讲 二维费用的背包问题</li> <li>一个简单的常见扩展。</li> <li>第六讲 分组的背包问题</li> <li>一种题目类型，也是一个有用的模型。后两节的基础。</li> <li>第七讲 有依赖的背包问题</li> <li>另一种给物品的选取加上限制的方法。</li> <li>第八讲 泛化物品</li> <li>我自己关于背包问题的思考成果，有一点抽象。</li> <li>第九讲 背包问题问法的变化</li> <li>试图触类旁通、举一反三。</li> <li>附：USACO中的背包问题</li> <li>给出 USACO Training 上可供练习的背包问题列表，及简单的解答。</li></ul> <h2 id="第一讲-01背包问题"><a href="#第一讲-01背包问题" class="header-anchor">#</a> 第一讲 01背包问题</h2> <h3 id="（1）题目"><a href="#（1）题目" class="header-anchor">#</a> （1）题目</h3> <p>有N件物品和一个容量为V的背包。第i件物品的费用是c[i]，价值是w[i]。求解将哪些物品装入背包可使价值总和最大。</p> <h3 id="（2）基本思路"><a href="#（2）基本思路" class="header-anchor">#</a> （2）基本思路</h3> <p>这是最基础的背包问题，特点是：每种物品仅有一件，可以选择放或不放。
用子问题定义状态：即f[i][v]表示前i件物品恰放入一个容量为v的背包可以获得的最大价值。则其状态转移方程便是：
<code>f[i][v]=max{f[i-1][v],f[i-1][v-c[i]]+w[i]}</code>
这个方程非常重要，基本上所有跟背包相关的问题的方程都是由它衍生出来的。所以有必要将它详细解释一下：“将前i件物品放入容量为v的背包中”这个子问题，若只考虑第i件物品的策略（放或不放），那么就可以转化为一个只牵扯前i-1件物品的问题。如果不放第i件物品，那么问题就转化为“前i-1件物品放入容量为v的背包中”，价值为f[i-1][v]；如果放第i件物品，那么问题就转化为“前i-1件物品放入剩下的容量为v-c[i]的背包中”，此时能获得的最大价值就是f[i-1][v-c[i]]再加上通过放入第i件物品获得的价值w[i]。</p> <h3 id="（3）优化空间复杂度"><a href="#（3）优化空间复杂度" class="header-anchor">#</a> （3）优化空间复杂度</h3> <p>以上方法的时间和空间复杂度均为O(N*V)，其中时间复杂度基本已经不能再优化了，但空间复杂度却可以优化到O(V)。
先考虑上面讲的基本思路如何实现，肯定是有一个主循环i=1..N，每次算出来二维数组f[i][0..V]的所有值。那么，如果只用一个数组f[0..V]，能不能保证第i次循环结束后f[v]中表示的就是我们定义的状态f[i][v]呢？f[i][v]是由f[i-1][v]和f[i-1][v-c[i]]两个子问题递推而来，能否保证在推f[i][v]时（也即在第i次主循环中推f[v]时）能够得到f[i-1][v]和f[i-1][v-c[i]]的值呢？事实上，这要求在每次主循环中我们以v=V..0的顺序推f[v]，这样才能保证推f[v]时f[v-c[i]]保存的是状态f[i-1][v-c[i]]的值。伪代码如下：</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>for i=1..N
    for v=V..0
        f[v]=max{f[v],f[v-c[i]]+w[i]};
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>其中的f[v]=max{f[v],f[v-c[i]]}一句恰就相当于我们的转移方程f[i][v]=max{f[i-1][v],f[i-1][v-c[i]]}，因为现在的f[v-c[i]]就相当于原来的f[i-1][v-c[i]]。如果将v的循环顺序从上面的逆序改成顺序的话，那么则成了f[i][v]由f[i][v-c[i]]推知，与本题意不符，但它却是另一个重要的背包问题P02最简捷的解决方案，故学习只用一维数组解01背包问题是十分必要的。</p> <p>事实上，使用一维数组解01背包的程序在后面会被多次用到，所以这里抽象出一个处理一件01背包中的物品过程，以后的代码中直接调用不加说明。</p> <p>过程ZeroOnePack，表示处理一件01背包中的物品，两个参数cost、weight分别表明这件物品的费用和价值。</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>procedure ZeroOnePack(cost,weight)

    for v=V..cost

        f[v]=max{f[v],f[v-cost]+weight}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>注意这个过程里的处理与前面给出的伪代码有所不同。前面的示例程序写成v=V..0是为了在程序中体现每个状态都按照方程求解了，避免不必要的思维复杂度。而这里既然已经抽象成看作黑箱的过程了，就可以加入优化。费用为cost的物品不会影响状态f[0..cost-1]，这是显然的。</p> <p>有了这个过程以后，01背包问题的伪代码就可以这样写：</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>for i=1..N

    ZeroOnePack(c[i],w[i]);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="（3）初始化的细节问题"><a href="#（3）初始化的细节问题" class="header-anchor">#</a> （3）初始化的细节问题</h3> <p>我们看到的求最优解的背包问题题目中，事实上有两种不太相同的问法。有的题目要求“恰好装满背包”时的最优解，有的题目则并没有要求必须把背包装满。一种区别这两种问法的实现方法是在初始化的时候有所不同。</p> <p>如果是第一种问法，要求恰好装满背包，那么在初始化时除了f[0]为0其它f[1..V]均设为-∞，这样就可以保证最终得到的f[N]是一种恰好装满背包的最优解。</p> <p>如果并没有要求必须把背包装满，而是只希望价格尽量大，初始化时应该将f[0..V]全部设为0。</p> <p>为什么呢？可以这样理解：初始化的f数组事实上就是在没有任何物品可以放入背包时的合法状态。如果要求背包恰好装满，那么此时只有容量为0的背包可能被价值为0的nothing“恰好装满”，其它容量的背包均没有合法的解，属于未定义的状态，它们的值就都应该是-∞了。如果背包并非必须被装满，那么任何容量的背包都有一个合法解“什么都不装”，这个解的价值为0，所以初始时状态的值也就全部为0了。</p> <p>这个小技巧完全可以推广到其它类型的背包问题，后面也就不再对进行状态转移之前的初始化进行讲解。</p> <h3 id="（4）小结"><a href="#（4）小结" class="header-anchor">#</a> （4）小结</h3> <p>01背包问题是最基本的背包问题，它包含了背包问题中设计状态、方程的最基本思想，另外，别的类型的背包问题往往也可以转换成01背包问题求解。故一定要仔细体会上面基本思路的得出方法，状态转移方程的意义，以及最后怎样优化的空间复杂度。</p> <h2 id="第二讲-完全背包问题"><a href="#第二讲-完全背包问题" class="header-anchor">#</a> 第二讲 完全背包问题</h2> <h2 id="第三讲-多重背包问题"><a href="#第三讲-多重背包问题" class="header-anchor">#</a> 第三讲 多重背包问题</h2> <h2 id="第四讲-混合三种背包问题"><a href="#第四讲-混合三种背包问题" class="header-anchor">#</a> 第四讲 混合三种背包问题</h2> <h2 id="第五讲-二维费用的背包问题"><a href="#第五讲-二维费用的背包问题" class="header-anchor">#</a> 第五讲 二维费用的背包问题</h2> <h2 id="第六讲-分组的背包问题"><a href="#第六讲-分组的背包问题" class="header-anchor">#</a> 第六讲 分组的背包问题</h2> <h2 id="第七讲-有依赖的背包问题"><a href="#第七讲-有依赖的背包问题" class="header-anchor">#</a> 第七讲 有依赖的背包问题</h2> <h2 id="第八讲-泛化物品"><a href="#第八讲-泛化物品" class="header-anchor">#</a> 第八讲 泛化物品</h2> <h2 id="第九讲-背包问题问法的变化"><a href="#第九讲-背包问题问法的变化" class="header-anchor">#</a> 第九讲 背包问题问法的变化</h2> <h2 id="附：usaco中的背包问题"><a href="#附：usaco中的背包问题" class="header-anchor">#</a> 附：USACO中的背包问题</h2></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.deb8ba48.js" defer></script><script src="/assets/js/13.9ab56618.js" defer></script>
  </body>
</html>
