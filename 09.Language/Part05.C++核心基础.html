<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C++核心基础 | HACV</title>
    <meta name="description" content="Personal Blog Website">
    <link rel="icon" href="/images/photo.jpg">
  <link rel="manifest" href="/images/photo.jpg">
  <link rel="apple-touch-icon" href="/images/photo.jpg">
  <meta http-quiv="pragma" cotent="no-cache">
  <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
  <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.8eb0d87d.css" as="style"><link rel="preload" href="/assets/js/app.1ed57714.js" as="script"><link rel="preload" href="/assets/js/133.344b731d.js" as="script"><link rel="prefetch" href="/assets/js/10.8bbeb718.js"><link rel="prefetch" href="/assets/js/100.048a0fc9.js"><link rel="prefetch" href="/assets/js/101.83405e67.js"><link rel="prefetch" href="/assets/js/102.3d3e6576.js"><link rel="prefetch" href="/assets/js/103.a91d5942.js"><link rel="prefetch" href="/assets/js/104.82bc63f7.js"><link rel="prefetch" href="/assets/js/105.b6d1b64d.js"><link rel="prefetch" href="/assets/js/106.01d6600d.js"><link rel="prefetch" href="/assets/js/107.5e4ae0bf.js"><link rel="prefetch" href="/assets/js/108.7e7f887f.js"><link rel="prefetch" href="/assets/js/109.84eeea44.js"><link rel="prefetch" href="/assets/js/11.8434f00b.js"><link rel="prefetch" href="/assets/js/110.4850c8f6.js"><link rel="prefetch" href="/assets/js/111.0cbdc255.js"><link rel="prefetch" href="/assets/js/112.a28102a0.js"><link rel="prefetch" href="/assets/js/113.ecc96324.js"><link rel="prefetch" href="/assets/js/114.4b1d26e3.js"><link rel="prefetch" href="/assets/js/115.5d72e6f7.js"><link rel="prefetch" href="/assets/js/116.544cac29.js"><link rel="prefetch" href="/assets/js/117.712f4699.js"><link rel="prefetch" href="/assets/js/118.8311de31.js"><link rel="prefetch" href="/assets/js/119.e2d384ac.js"><link rel="prefetch" href="/assets/js/12.5da1473f.js"><link rel="prefetch" href="/assets/js/120.d32fbb90.js"><link rel="prefetch" href="/assets/js/121.e7ce78e4.js"><link rel="prefetch" href="/assets/js/122.a1503f45.js"><link rel="prefetch" href="/assets/js/123.3b049a15.js"><link rel="prefetch" href="/assets/js/124.5f13dffe.js"><link rel="prefetch" href="/assets/js/125.51a65b56.js"><link rel="prefetch" href="/assets/js/126.54bda2fa.js"><link rel="prefetch" href="/assets/js/127.a0dd2698.js"><link rel="prefetch" href="/assets/js/128.1b52bea8.js"><link rel="prefetch" href="/assets/js/129.c1db73e1.js"><link rel="prefetch" href="/assets/js/13.4e8d9568.js"><link rel="prefetch" href="/assets/js/130.11f19c4a.js"><link rel="prefetch" href="/assets/js/131.1cce9ffa.js"><link rel="prefetch" href="/assets/js/132.9a0cccb9.js"><link rel="prefetch" href="/assets/js/134.e820ceb7.js"><link rel="prefetch" href="/assets/js/135.f0f573c5.js"><link rel="prefetch" href="/assets/js/136.82895557.js"><link rel="prefetch" href="/assets/js/137.e7ecfbae.js"><link rel="prefetch" href="/assets/js/138.21019708.js"><link rel="prefetch" href="/assets/js/139.eecc35f2.js"><link rel="prefetch" href="/assets/js/14.5c804713.js"><link rel="prefetch" href="/assets/js/140.803b63f1.js"><link rel="prefetch" href="/assets/js/141.8de1ff12.js"><link rel="prefetch" href="/assets/js/142.5763d630.js"><link rel="prefetch" href="/assets/js/143.0371ea92.js"><link rel="prefetch" href="/assets/js/144.60154d1b.js"><link rel="prefetch" href="/assets/js/145.b3ec1ed6.js"><link rel="prefetch" href="/assets/js/15.b99cc7bb.js"><link rel="prefetch" href="/assets/js/16.14bb49db.js"><link rel="prefetch" href="/assets/js/17.56dc8f9c.js"><link rel="prefetch" href="/assets/js/18.a77292a3.js"><link rel="prefetch" href="/assets/js/19.9b6fd380.js"><link rel="prefetch" href="/assets/js/2.858e80da.js"><link rel="prefetch" href="/assets/js/20.e68649db.js"><link rel="prefetch" href="/assets/js/21.42f4975a.js"><link rel="prefetch" href="/assets/js/22.b2ca9267.js"><link rel="prefetch" href="/assets/js/23.29a0b3be.js"><link rel="prefetch" href="/assets/js/24.a2448943.js"><link rel="prefetch" href="/assets/js/25.bab1e6b7.js"><link rel="prefetch" href="/assets/js/26.e0dbf256.js"><link rel="prefetch" href="/assets/js/27.c84e7b59.js"><link rel="prefetch" href="/assets/js/28.a5e62944.js"><link rel="prefetch" href="/assets/js/29.8fab9bae.js"><link rel="prefetch" href="/assets/js/3.53ecd128.js"><link rel="prefetch" href="/assets/js/30.9cabdfb5.js"><link rel="prefetch" href="/assets/js/31.567375f8.js"><link rel="prefetch" href="/assets/js/32.86c03e8d.js"><link rel="prefetch" href="/assets/js/33.99a402f3.js"><link rel="prefetch" href="/assets/js/34.bfaafdc7.js"><link rel="prefetch" href="/assets/js/35.df702a97.js"><link rel="prefetch" href="/assets/js/36.4d9f9e12.js"><link rel="prefetch" href="/assets/js/37.44a4c6c9.js"><link rel="prefetch" href="/assets/js/38.54e332c6.js"><link rel="prefetch" href="/assets/js/39.8c308bfb.js"><link rel="prefetch" href="/assets/js/4.ba718c7b.js"><link rel="prefetch" href="/assets/js/40.599d05dd.js"><link rel="prefetch" href="/assets/js/41.28433145.js"><link rel="prefetch" href="/assets/js/42.5d04301a.js"><link rel="prefetch" href="/assets/js/43.e53cb35e.js"><link rel="prefetch" href="/assets/js/44.1cc62348.js"><link rel="prefetch" href="/assets/js/45.cc875e55.js"><link rel="prefetch" href="/assets/js/46.0eb69f2a.js"><link rel="prefetch" href="/assets/js/47.d617d312.js"><link rel="prefetch" href="/assets/js/48.181dc6d0.js"><link rel="prefetch" href="/assets/js/49.28a9866d.js"><link rel="prefetch" href="/assets/js/5.4ebbb385.js"><link rel="prefetch" href="/assets/js/50.83ee3e67.js"><link rel="prefetch" href="/assets/js/51.c3e439c8.js"><link rel="prefetch" href="/assets/js/52.bc108446.js"><link rel="prefetch" href="/assets/js/53.11617913.js"><link rel="prefetch" href="/assets/js/54.205c5f22.js"><link rel="prefetch" href="/assets/js/55.2feb7049.js"><link rel="prefetch" href="/assets/js/56.032299f3.js"><link rel="prefetch" href="/assets/js/57.5e4cfcf3.js"><link rel="prefetch" href="/assets/js/58.00d5bba3.js"><link rel="prefetch" href="/assets/js/59.9a09f399.js"><link rel="prefetch" href="/assets/js/6.0bff5906.js"><link rel="prefetch" href="/assets/js/60.369580ef.js"><link rel="prefetch" href="/assets/js/61.a56025e5.js"><link rel="prefetch" href="/assets/js/62.bfd51448.js"><link rel="prefetch" href="/assets/js/63.43fa480c.js"><link rel="prefetch" href="/assets/js/64.1ea83c57.js"><link rel="prefetch" href="/assets/js/65.777088b5.js"><link rel="prefetch" href="/assets/js/66.3fa32987.js"><link rel="prefetch" href="/assets/js/67.7eb44a14.js"><link rel="prefetch" href="/assets/js/68.0002a7f9.js"><link rel="prefetch" href="/assets/js/69.44aa690d.js"><link rel="prefetch" href="/assets/js/7.69828a2c.js"><link rel="prefetch" href="/assets/js/70.8644bb32.js"><link rel="prefetch" href="/assets/js/71.bc556880.js"><link rel="prefetch" href="/assets/js/72.a7ee3688.js"><link rel="prefetch" href="/assets/js/73.e195755f.js"><link rel="prefetch" href="/assets/js/74.c7c2742b.js"><link rel="prefetch" href="/assets/js/75.ae377bce.js"><link rel="prefetch" href="/assets/js/76.f12a03ae.js"><link rel="prefetch" href="/assets/js/77.13d732ec.js"><link rel="prefetch" href="/assets/js/78.7d42a05b.js"><link rel="prefetch" href="/assets/js/79.ecaf9b2a.js"><link rel="prefetch" href="/assets/js/8.f1e98a93.js"><link rel="prefetch" href="/assets/js/80.eda6baa4.js"><link rel="prefetch" href="/assets/js/81.9666f4ce.js"><link rel="prefetch" href="/assets/js/82.b83e9ae4.js"><link rel="prefetch" href="/assets/js/83.6167e713.js"><link rel="prefetch" href="/assets/js/84.67cb5be6.js"><link rel="prefetch" href="/assets/js/85.9c7a071c.js"><link rel="prefetch" href="/assets/js/86.a8a7bc05.js"><link rel="prefetch" href="/assets/js/87.caf82cbb.js"><link rel="prefetch" href="/assets/js/88.56efa8db.js"><link rel="prefetch" href="/assets/js/89.7bd6862f.js"><link rel="prefetch" href="/assets/js/9.76534e6a.js"><link rel="prefetch" href="/assets/js/90.84368bda.js"><link rel="prefetch" href="/assets/js/91.5cb6f93e.js"><link rel="prefetch" href="/assets/js/92.d6238b58.js"><link rel="prefetch" href="/assets/js/93.83ba918c.js"><link rel="prefetch" href="/assets/js/94.8c6909be.js"><link rel="prefetch" href="/assets/js/95.ad625477.js"><link rel="prefetch" href="/assets/js/96.24efaf18.js"><link rel="prefetch" href="/assets/js/97.5b5b8bb4.js"><link rel="prefetch" href="/assets/js/98.bf4ac24d.js"><link rel="prefetch" href="/assets/js/99.e2a51419.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8eb0d87d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">HACV</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/02.DataStructureAndAlgorithm/" class="nav-link">🐾数据结构和算法</a></div><div class="nav-item"><a href="/03.OS/" class="nav-link">💻操作系统</a></div><div class="nav-item"><a href="/04.Net/" class="nav-link">☁️网络</a></div><div class="nav-item"><a href="/05.SE/" class="nav-link">☕️软件工程</a></div><div class="nav-item"><a href="/06.SQL/" class="nav-link">💾数据库</a></div><div class="nav-item"><a href="/07.InternalSkill/" class="nav-link">🐉计算机内功</a></div><div class="nav-item"><a href="/08.Tools/" class="nav-link">🔧Tools</a></div><div class="nav-item"><a href="/09.Language/" class="nav-link router-link-active">⚛️C/C++</a></div><div class="nav-item"><a href="https://github.com/HACV" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/02.DataStructureAndAlgorithm/" class="nav-link">🐾数据结构和算法</a></div><div class="nav-item"><a href="/03.OS/" class="nav-link">💻操作系统</a></div><div class="nav-item"><a href="/04.Net/" class="nav-link">☁️网络</a></div><div class="nav-item"><a href="/05.SE/" class="nav-link">☕️软件工程</a></div><div class="nav-item"><a href="/06.SQL/" class="nav-link">💾数据库</a></div><div class="nav-item"><a href="/07.InternalSkill/" class="nav-link">🐉计算机内功</a></div><div class="nav-item"><a href="/08.Tools/" class="nav-link">🔧Tools</a></div><div class="nav-item"><a href="/09.Language/" class="nav-link router-link-active">⚛️C/C++</a></div><div class="nav-item"><a href="https://github.com/HACV" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>C++核心基础</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#一、面向对象难点" class="sidebar-link">一、面向对象难点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#（1）类型转换函数" class="sidebar-link">（1）类型转换函数</a></li></ul></li><li><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#二、辨析：重写-override-与重载-overload-与重定义" class="sidebar-link">二、辨析：重写(Override)与重载(Overload)与重定义</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#三、多态与虚函数" class="sidebar-link">三、多态与虚函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#（1）虚函数相关" class="sidebar-link">（1）虚函数相关</a></li><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#（2）虚函数能不能inline" class="sidebar-link">（2）虚函数能不能inline</a></li><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#（3）非多态" class="sidebar-link">（3）非多态</a></li></ul></li><li><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#三、不能重载的5个运算符记忆" class="sidebar-link">三、不能重载的5个运算符记忆</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#四、类的成员函数和非成员函数分类『重要』" class="sidebar-link">四、类的成员函数和非成员函数分类『重要』</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#_1、成员函数" class="sidebar-link">1、成员函数</a></li><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#_2、非成员函数" class="sidebar-link">2、非成员函数</a></li></ul></li><li><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#五、类的成员变量" class="sidebar-link">五、类的成员变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#（1）static成员变量" class="sidebar-link">（1）static成员变量</a></li></ul></li><li><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#六、无法继承的" class="sidebar-link">六、无法继承的</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#（1）static函数" class="sidebar-link">（1）static函数</a></li></ul></li><li><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#七、c-中强制类型转换（type-cast）" class="sidebar-link">七、C++中强制类型转换（Type Cast）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#_1、背景" class="sidebar-link">1、背景</a></li><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#_2、类型转换总览" class="sidebar-link">2、类型转换总览</a></li><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#_3、static-cast" class="sidebar-link">3、static_cast</a></li><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#_4、reinterpret-cast" class="sidebar-link">4、reinterpret_cast</a></li><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#_5、dynamic-cast" class="sidebar-link">5、dynamic_cast</a></li><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#_6、const-cast" class="sidebar-link">6、const_cast</a></li><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#_7、总结" class="sidebar-link">7、总结</a></li></ul></li><li><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#八、4个智能指针『c-11』" class="sidebar-link">八、4个智能指针『C++11』</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#_1、总览" class="sidebar-link">1、总览</a></li><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#_2、4个智能指针（smart-pointer）" class="sidebar-link">2、4个智能指针（Smart pointer）</a></li></ul></li><li><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#九、刷题笔记" class="sidebar-link">九、刷题笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#（1）可以将布尔值与整数进行比较吗-？" class="sidebar-link">（1）可以将布尔值与整数进行比较吗 ？</a></li><li class="sidebar-sub-header"><a href="/09.Language/Part05.C%2B%2B%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80.html#（2）继承和抽象类" class="sidebar-link">（2）继承和抽象类</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="c-核心基础"><a href="#c-核心基础" class="header-anchor">#</a> C++核心基础</h1> <h2 id="一、面向对象难点"><a href="#一、面向对象难点" class="header-anchor">#</a> 一、面向对象难点</h2> <ul><li>面向对象的三大基本特征：封装、继承、多态</li> <li>面向对象的五大基本原则：</li> <li>单一职责原则、开放封闭原则、里氏替换原则、依赖倒置原则、接口隔离原则</li></ul> <h3 id="（1）类型转换函数"><a href="#（1）类型转换函数" class="header-anchor">#</a> （1）类型转换函数</h3> <ul><li><p>带非默认参数的构造函数可以把基本类型数据转换成类类型对象。</p></li> <li><p>类型转换函数可以把类类型对象转换为其他指定类型对象。</p></li> <li><p>类型转换函数只能定义为一个类的成员函数，不能定义为类的友元函数。</p></li></ul> <h2 id="二、辨析：重写-override-与重载-overload-与重定义"><a href="#二、辨析：重写-override-与重载-overload-与重定义" class="header-anchor">#</a> 二、辨析：重写(Override)与重载(Overload)与重定义</h2> <ul><li><strong>重载(Overload)</strong>：函数名相同，函数的参数个数、参数类型或参数顺序三者中必须至少有一种不同。函数返回值的类型可以相同，也可以不相同。发生在一个类内部。</li> <li><strong>重定义</strong>：也叫做隐藏，子类<strong>重新定义</strong>父类中有相同名称的<font style="background:yellow;">『<strong>非虚函数</strong>』 </font>( 参数列表可以不同 ) ，指派生类的函数屏蔽了与其同名的基类函数。可以理解成发生在继承中的重载。</li> <li><strong>重写(Override)</strong>：也叫做<strong>覆盖</strong>，也叫<strong>复写</strong>，一般发生在子类和父类继承关系之间。子类<strong>重新定义</strong>父类中有相同名称和参数的<font style="background:yellow;">『<strong>虚函数</strong>』</font>。</li></ul> <blockquote><p>参考：<a href="https://blog.csdn.net/u010275850/article/details/45583705" target="_blank" rel="noopener noreferrer">C++_重载、重写和重定义的区别<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>PS：但是，从很多英语教材上面，来说，重定义和重写都是单词（override），理解参考第4节</p> <h2 id="三、多态与虚函数"><a href="#三、多态与虚函数" class="header-anchor">#</a> 三、多态与虚函数</h2> <h3 id="（1）虚函数相关"><a href="#（1）虚函数相关" class="header-anchor">#</a> （1）虚函数相关</h3> <ul><li>1、（static）静态函数不可以是虚函数</li> <li>2、（inline）虚函数可以声明为inline，但是编译器不会将其作为inline函数处理</li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">a</span>
<span class="token punctuation">{</span>
    <span class="token keyword">inline</span> <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
尽管以上写法是没有语法错误的，并且可以执行，但其实test函数已经不是内联函数了，因为<span class="token keyword">inline</span>只是对编译器的一个建议而已。
搞清本质就好。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>多态是为了<strong>接口</strong>重用，封装和继承是为了代码重用</p> <p>子类重新定义父类虚函数的方法叫做覆写</p> <h3 id="（2）虚函数能不能inline"><a href="#（2）虚函数能不能inline" class="header-anchor">#</a> （2）虚函数能不能inline</h3> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>Q:虚函数不能内联，但是语法不出错？

A:不是的，虚函数在没有表现多态的时候是可以内联的，表现多态的时候不能
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>虚函数不可以内联，因为虚函数是在运行期的时候确定具体调用的函数，内联是在编译期的时候进行代码展开，两者冲突，所以没有一起使用的做法。</li> <li>内联只是对编译器的一种请求，是否真正内联要看编译器的处理，虚函数是可以内联的，但是编译器不会响应内联请求，即他会忽略内联说明，将其当做普通虚函数处理。</li></ul> <p><strong>在C++中，为了让某个类只能通过new来创建（即如果直接创建对象，编译器将报错），应该</strong>（）</p> <ul><li>将析构函数设为私有</li></ul> <h3 id="（3）非多态"><a href="#（3）非多态" class="header-anchor">#</a> （3）非多态</h3> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">A</span>
<span class="token punctuation">{</span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">void</span> <span class="token function">mytest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			cout<span class="token operator">&lt;&lt;</span><span class="token string">&quot;AAA&quot;</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">A</span></span>
<span class="token punctuation">{</span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">mytest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			cout<span class="token operator">&lt;&lt;</span><span class="token string">&quot;BBB&quot;</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>	
<span class="token punctuation">}</span><span class="token punctuation">;</span> 

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	
	A <span class="token operator">*</span> p<span class="token operator">=</span> <span class="token keyword">new</span> B<span class="token punctuation">;</span>
	p<span class="token operator">-&gt;</span><span class="token function">mytest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span> 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h2 id="三、不能重载的5个运算符记忆"><a href="#三、不能重载的5个运算符记忆" class="header-anchor">#</a> 三、不能重载的5个运算符记忆</h2> <ul><li>1、第1个，也是我们常常忘记是运算符的<code>sizeof</code></li> <li>2、其他4个，记住只要挂<code>.</code>的运算符<strong>均不能被重载</strong></li></ul> <blockquote><p>第2点，参考自用户讨论：@<a href="https://www.nowcoder.com/profile/2887214" target="_blank" rel="noopener noreferrer">牛客2887214号<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code>C<span class="token operator">++</span>不能重载的总共五个：
（<span class="token number">1</span>）<span class="token string">&quot;.&quot;</span>（类成员访问运算符） 
（<span class="token number">2</span>）<span class="token string">&quot; .*&quot;</span>（类成员指针访问运算符） 
（<span class="token number">3</span>）<span class="token string">&quot;::&quot;</span>（域运算符） 
（<span class="token number">4</span>）<span class="token string">&quot;siezof&quot;</span>（长度运算符） 
（<span class="token number">5</span>）<span class="token string">&quot; ?:&quot;</span>（条件运算符）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="四、类的成员函数和非成员函数分类『重要』"><a href="#四、类的成员函数和非成员函数分类『重要』" class="header-anchor">#</a> 四、类的成员函数和非成员函数分类『重要』</h2> <blockquote><p>我的<a href="http://naotu.baidu.com/file/02d2413a51829d0c29226a23718613ad?token=d83f2eb1c2d887a6" target="_blank" rel="noopener noreferrer">百度脑图<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>说明：成员函数的分类，需要考虑排序组合，<strong>是很多，很复杂</strong>的，不然就只能一个一个维度去分类。</p></blockquote> <h3 id="_1、成员函数"><a href="#_1、成员函数" class="header-anchor">#</a> 1、成员函数</h3> <ul><li>成员函数分下面3类（应该说是2类，纯虚函数属于虚函数的子集的话）</li></ul> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>1、非虚函数（non-virtual 函数）：
你不希望派生类（derived class）重新定义 (override, 复写) 它.
2、虚函数（virtual 函數）：
你希望 derived class 重新定义 (override, 复写) 它，且你对它已有『默认』定义。
3、纯虚函数（pure virtual 函數）：
你希望 derived class 『一定』要重新定义 (override 复写)
它，你对它沒有默认定义。

PS：我们把不是纯的虚函数的虚函数叫作（impure virtual函数）
PS：在语法上，我们只要在任何一个函数前面加上virtual这样一个关键字，它就成为一个虚函数。
数据可以被继承下来，就是占它用了内存。
函数的继承如何理解？但是不应该从内存角度理解，函数的继承，继承的是调用权利

PS：其实纯虚函数是可以有定义的！！
&gt; 出处：《C++Primer》中文版第五版541页第22行。
我们可以为纯虚函数提供定义，不过函数体『必须定义在类的外部』。若定义在类的内部，会出现错误：pure-specifier on function-definition。
》 虚函数是可以定义『在类的内部的』，外部也可以！
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>参考自：侯捷</p></blockquote> <ul><li><strong>override</strong>这个术语，在这个主题不能随便用！！</li> <li>这个术语，<strong>一定是用在『虚函数』被重新定义，才能够叫（override）</strong></li></ul> <h3 id="_2、非成员函数"><a href="#_2、非成员函数" class="header-anchor">#</a> 2、非成员函数</h3> <h4 id="（1）友元函数"><a href="#（1）友元函数" class="header-anchor">#</a> （1）友元函数</h4> <p>1、友元函数的『<strong>声明</strong>』可以放在类<strong>声明</strong>的任何地方，不受访问限定关键字private、protected、public的限制</p> <p>2、尽管友元函数的<strong>原型</strong>有在<strong>类的定义</strong>中出现过，但是<strong>友元函数并不是成员函数</strong>。</p> <p>3、友元是一种<strong>定义在类外部</strong>的普通函数，但它需要在类体内进行<strong>说明『声明』</strong>，为了与该类的成员函数加以区别，在说明时前面加以关键字friend</p> <blockquote><p>参考自：菜鸟教程<a href="https://www.runoob.com/cplusplus/cpp-friend-functions.html" target="_blank" rel="noopener noreferrer">C++ 友元函数<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="五、类的成员变量"><a href="#五、类的成员变量" class="header-anchor">#</a> 五、类的成员变量</h2> <h3 id="（1）static成员变量"><a href="#（1）static成员变量" class="header-anchor">#</a> （1）static成员变量</h3> <ul><li>c++的一个类中『<strong>声明</strong>』一个static成员变量，static是加了访问控制的全局变量，不被继承</li> <li>类和子类对象，static变量占有一份内存</li></ul> <blockquote><p>重点理解：<strong>静态成员变量的初始化一定要在『类外』</strong></p></blockquote> <p>原因： 因为静态成员变量本身在main函数未开始时已经存在。不要让成员变量的初始化依赖于对象。不用对象，难到就不能用这一变量了吗？如果将初始化放在类内。那么<strong>当不声明对象时</strong>，无法使用这一静态变量。编译器报错为‘undeclared identifier’</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>类中的声明和定义辨析：（重点、难点）
笔者的看法是：
1、逻辑上说明是一起，只能表示可以『声明』在一起。（声明的门槛很低）
2、具体内存在哪分配，这个决定『能不能在类内』进行『定义』

比如：
1、友元函数在『类内』声明，不能在『类内』定义，能在『类外』定义
2、static成员变量在『类内』声明，不能在『类内』定义，能在『类外』定义
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>参考自：<a href="https://www.huaweicloud.com/articles/4637f3d11eb3fd9a38e017041e23e50a.html" target="_blank" rel="noopener noreferrer">华为云<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="六、无法继承的"><a href="#六、无法继承的" class="header-anchor">#</a> 六、无法继承的</h2> <h3 id="（1）static函数"><a href="#（1）static函数" class="header-anchor">#</a> （1）static函数</h3> <ul><li>原因：</li></ul> <h2 id="七、c-中强制类型转换（type-cast）"><a href="#七、c-中强制类型转换（type-cast）" class="header-anchor">#</a> 七、C++中强制类型转换（Type Cast）</h2> <h3 id="_1、背景"><a href="#_1、背景" class="header-anchor">#</a> 1、背景</h3> <h4 id="_1）场景1"><a href="#_1）场景1" class="header-anchor">#</a> 1）场景1</h4> <p>C语言由于某个强制类型转换出错了，我们需要查找所有代码中相应的强制类型转换，那么会很难寻找。比如：</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>double num=6.3131;
int solve=(int)num;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>原因</strong>：想要查找C语言风格的类型转换我们需要查找<code>（</code>这样的括号，但是函数也有啊<br> <strong>解决</strong>：C++中设计了4种类型转换，而且给他们每个后面都有单词cast<br>
以后，我们快速定位类型转换，直接用<code>Ctrl+F</code>去寻找<code>cast</code>就好了</p> <h4 id="_2）场景2"><a href="#_2）场景2" class="header-anchor">#</a> 2）场景2</h4> <p><strong>原因</strong>：由于C++中用基类和子类的指针，实现了多态。有时候，有些不熟悉多态的编码人员，可能会进行强制类型转换，导致项目崩溃。<br> <strong>解决</strong>：C++中针对这些，设计了比如<code>dynamic_cast</code>类型转换</p> <h3 id="_2、类型转换总览"><a href="#_2、类型转换总览" class="header-anchor">#</a> 2、类型转换总览</h3> <ul><li>C++相较C增加的<strong>新特性</strong></li></ul> <h4 id="_1）c-中4种类型转换如下"><a href="#_1）c-中4种类型转换如下" class="header-anchor">#</a> 1）C++中4种类型转换如下</h4> <blockquote><ul><li>static_cast（静态类型转换）</li></ul> <blockquote><ul><li>静态类型转换，<strong>编译</strong>的时c++编译器会做<strong>类型检查</strong>，基本类型能转换但是<font style="background:yellow;"><strong>不能转换指针类型</strong></font></li></ul></blockquote> <ul><li>reinterpreter_cast（重新解释类型转换，interpreter，v.诠释，说明）</li></ul> <blockquote><ul><li>若不同类型之间，进行强制类型转换，用reinterpret_cast进行重新解释</li></ul></blockquote> <ul><li>dynamic_cast（动态类型转换）</li></ul> <blockquote><ul><li>C++中重要的，安全的基类和子类之间转换，<strong>运行时</strong>类型检查</li></ul></blockquote> <ul><li>const_cast（常量类型准换）</li></ul> <blockquote><ul><li>去除变量的只读属性</li></ul></blockquote></blockquote> <h4 id="_2）一般结论"><a href="#_2）一般结论" class="header-anchor">#</a> 2）一般结论</h4> <ul><li>1.C语言中能<strong>隐式类型转换</strong>的，在c++中可用static_cast进行类型转换。因C++编译器在编译检查一般都能通过；</li> <li>2.C语言中<strong>不能隐式类型转换的</strong>，在c++中可以用reinterpret_cast进行强行类型解释。</li> <li>3.总结：static_cast和reinterpret_cast基本上把C语言中的 强制类型转换给覆盖，但是<strong>reinterpret_cast很难保证移植性。</strong></li></ul> <h3 id="_3、static-cast"><a href="#_3、static-cast" class="header-anchor">#</a> 3、static_cast</h3> <p>代码展示</p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">double</span> pi <span class="token operator">=</span> <span class="token number">3.1415926</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> num1 <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>pi<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//c++的新式的类型转换运算符  </span>
<span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>pi<span class="token punctuation">;</span><span class="token comment">//“强制”类型转换 </span>
<span class="token keyword">int</span> num3 <span class="token operator">=</span> pi<span class="token punctuation">;</span><span class="token comment">//c语言/C++的“隐式”类型转换</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>静态的类型转换:  在<strong>编译</strong>的时进行基本类型的转换 能替代c风格的类型转换，可以进行一部分检查</li></ul> <h3 id="_4、reinterpret-cast"><a href="#_4、reinterpret-cast" class="header-anchor">#</a> 4、reinterpret_cast</h3> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">char</span> <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token string">&quot;hello wangbaoming &quot;</span> <span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
p2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>p1<span class="token punctuation">;</span>
<span class="token comment">//static_cast对于基本类型可以转换，但是不能转换指针类型！</span>
<span class="token comment">//编译的时候就会报错：[Error] invalid static_cast from type 'char*' to type 'int*'</span>

<span class="token comment">//可以使用  reinterpret_cast 进行重新解释 </span>
p2 <span class="token operator">=</span> <span class="token keyword">reinterpret_cast</span><span class="token operator">&lt;</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_5、dynamic-cast"><a href="#_5、dynamic-cast" class="header-anchor">#</a> 5、dynamic_cast</h3> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Animal</span> 
<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">virtual</span> <span class="token keyword">void</span>  <span class="token function">voice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Animal</span></span> 
<span class="token punctuation">{</span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">virtual</span> <span class="token keyword">void</span>  <span class="token function">voice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;汪汪&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">void</span> <span class="token function">doSwim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
		<span class="token punctuation">{</span> 
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;狗游泳&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>



<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Animal</span></span>
<span class="token punctuation">{</span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">virtual</span> <span class="token keyword">void</span>  <span class="token function">voice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;喵喵 &quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">void</span> <span class="token function">doTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
		<span class="token punctuation">{</span> 
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;猫爬树&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> 
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>




<span class="token comment">//另一个类群体 </span>
<span class="token keyword">class</span> <span class="token class-name">Book</span>
<span class="token punctuation">{</span>
	<span class="token keyword">private</span><span class="token operator">:</span>
		<span class="token keyword">int</span> price<span class="token punctuation">;</span>
		
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">void</span> <span class="token function">printP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			cout <span class="token operator">&lt;&lt;</span> price <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>



<span class="token comment">//对象运行 </span>
<span class="token keyword">void</span> <span class="token function">ObjPlay</span><span class="token punctuation">(</span>Animal <span class="token operator">*</span>base<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	base<span class="token operator">-&gt;</span><span class="token function">voice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment">//猫没有转换成功 </span>
	Dog <span class="token operator">*</span>pDog <span class="token operator">=</span> <span class="token keyword">dynamic_cast</span><span class="token operator">&lt;</span>Dog <span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pDog<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		pDog<span class="token operator">-&gt;</span><span class="token function">voice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pDog<span class="token operator">-&gt;</span><span class="token function">doSwim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	Cat <span class="token operator">*</span>pCat <span class="token operator">=</span> <span class="token keyword">dynamic_cast</span><span class="token operator">&lt;</span>Cat <span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">NULL</span> <span class="token operator">!=</span> pCat<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		pCat<span class="token operator">-&gt;</span><span class="token function">voice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pCat<span class="token operator">-&gt;</span><span class="token function">doTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span>  <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token comment">//基类指针base </span>
	Animal <span class="token operator">*</span>base <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	

	<span class="token comment">//1）可以把子类指针赋给 父类指针 但是反过来是不可以的 需要 如下转换</span>
	<span class="token comment">//pdog = base;  </span>
	Dog <span class="token operator">*</span>pDog <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>Dog <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">;</span>


	<span class="token comment">//2）把base转换成其他 非动物相关的 err</span>
	<span class="token comment">//比如下面这一行在编译时会出错！ </span>
	<span class="token comment">//Book *book= static_cast&lt;Book *&gt; (base);</span>


	<span class="token comment">//3  reinterpret_cast //可以强制类型转换</span>
	Book <span class="token operator">*</span>book2<span class="token operator">=</span> <span class="token keyword">reinterpret_cast</span><span class="token operator">&lt;</span>Book <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">;</span>


	<span class="token comment">//4 dynamic_cast用法</span>
	<span class="token function">ObjPlay</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br></div></div><p>运行结果是</p> <div class="language-txt line-numbers-mode"><pre class="language-text"><code>喵喵
喵喵
猫爬树
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="bad-cast"><a href="#bad-cast" class="header-anchor">#</a> bad_cast</h4> <ul><li>由于转换为『引用类型』失败，<code>dynamic_cast</code>运算符会引发<code>bad_cast</code>异常</li></ul> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">try</span>
<span class="token punctuation">{</span>
    Circle <span class="token operator">&amp;</span> ref_circle <span class="token operator">=</span> <span class="token keyword">dynamic_cast</span><span class="token operator">&lt;</span>Circle<span class="token operator">&amp;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span> ref_shape <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span> <span class="token punctuation">(</span> bad_cast b <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cout<span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Caught:&quot;</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>参考：<a href="https://github.com/huihut/interview" target="_blank" rel="noopener noreferrer">https://github.com/huihut/interview<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="_6、const-cast"><a href="#_6、const-cast" class="header-anchor">#</a> 6、const_cast</h3> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>


<span class="token comment">//典型用法，把形参的只读属性去掉</span>
<span class="token keyword">void</span> <span class="token function">Opbuf</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	cout <span class="token operator">&lt;&lt;</span> p <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	
	<span class="token comment">//把形参的只读属性去掉 </span>
	<span class="token keyword">char</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> <span class="token keyword">const_cast</span><span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	p2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> p <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token string">&quot;11111111111&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> <span class="token string">&quot;333333333&quot;</span><span class="token punctuation">;</span>
	
	<span class="token comment">//下面就是用法，虽然会显示</span>
	<span class="token comment">//[Warning] deprecated conversion from string constant to 'char*' [-Wwrite-strings] </span>
	<span class="token keyword">char</span> <span class="token operator">*</span>p3 <span class="token operator">=</span> <span class="token keyword">const_cast</span><span class="token operator">&lt;</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	
	
	<span class="token comment">//下面 &quot;000000000000&quot;会自动拆解，放入buf数组中 </span>
	<span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;000000000000&quot;</span><span class="token punctuation">;</span>

	<span class="token function">Opbuf</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//要保证指针所执行的内存空间能修改才行 若不能修改 还是会引起程序异常！！！</span>
	<span class="token comment">//比如下面,因为下面的 &quot;dddddddddddsssssssssssssss&quot;存在常量区 </span>
	<span class="token comment">//注意和 char buf[100] = &quot;000000000000&quot;;区别 </span>
	<span class="token comment">//	Opbuf(&quot;dddddddddddsssssssssssssss&quot;);</span>

	<span class="token function">system</span><span class="token punctuation">(</span><span class="token string">&quot;pause&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><div class="language-txt line-numbers-mode"><pre class="language-text"><code>000000000000
A00000000000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_7、总结"><a href="#_7、总结" class="header-anchor">#</a> 7、总结</h3> <ul><li>1）编码人员要清楚的知道: 要转的变量，类型转换前是什么类型，类型转换后是什么类型。转换后有什么后果。</li> <li>2）一般情况下，不建议进行类型转换；避免进行类型转换。</li> <li>比如上面的“把形参的只读属性去掉”，我在C语言编程的时候，本来就是怕别人写的模块修改我传入的参数才用的const，但是这种类型转换会破坏我设计的初衷！</li></ul> <h2 id="八、4个智能指针『c-11』"><a href="#八、4个智能指针『c-11』" class="header-anchor">#</a> 八、4个智能指针『C++11』</h2> <h3 id="_1、总览"><a href="#_1、总览" class="header-anchor">#</a> 1、总览</h3> <p>智能指针是C++提供给我们的一种工具
用来管理对象的一个生命周期的，简单来说就是来帮我们管理动态内存的</p> <h3 id="_2、4个智能指针（smart-pointer）"><a href="#_2、4个智能指针（smart-pointer）" class="header-anchor">#</a> 2、4个智能指针（Smart pointer）</h3> <ul><li>1）auto_ptr（C++11已弃用，C++98版）</li> <li>采用所有权模式</li> <li>C++98的时候的方案，C++11已抛弃</li> <li>2）unique_ptr</li> <li>替换auto_ptr</li> <li>3）shared_ptr（共享指针）</li> <li>shared_ptr指针要是碰到，两个对象互相指向，导致“<strong>循环引用</strong>”会导致“<font style="background:yellow;"><strong>内存泄漏</strong></font>”</li> <li>4）weak_ptr（弱指针）</li> <li>为了解决“循环引用”导致的“内存泄漏”，引入了weak_ptr指针。</li></ul> <h2 id="九、刷题笔记"><a href="#九、刷题笔记" class="header-anchor">#</a> 九、刷题笔记</h2> <h3 id="（1）可以将布尔值与整数进行比较吗-？"><a href="#（1）可以将布尔值与整数进行比较吗-？" class="header-anchor">#</a> （1）可以将布尔值与整数进行比较吗 ？</h3> <ul><li>Java不可以！</li> <li>C++可以</li></ul> <h3 id="（2）继承和抽象类"><a href="#（2）继承和抽象类" class="header-anchor">#</a> （2）继承和抽象类</h3> <ul><li>类不可以多继承而接口可以多实现</li> <li>抽象类和接口都不能被实例化</li></ul></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.1ed57714.js" defer></script><script src="/assets/js/133.344b731d.js" defer></script>
  </body>
</html>
